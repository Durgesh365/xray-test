Here are the specific fixes:

## 1. Generate JSON file instead of printing

Replace the main() function with:
```python
def main():
    try:
        analyzer = JiraXrayAnalyzer()
        results = {}
        
        if os.getenv('FIX_VERSION'):
            results['tickets_by_fix_version'] = analyzer.get_tickets_by_fix_version()
        
        if os.getenv('TEST_PLAN_KEY'):
            results['test_plan_analysis'] = analyzer.get_test_plan_analysis()
        
        # Write to JSON file
        output_file = 'jira_analysis_results.json'
        with open(output_file, 'w') as f:
            json.dump(results, indent=2, fp=f)
        
        print(f"Results saved to {output_file}")
        
    except Exception as e:
        error_result = {"error": str(e)}
        with open('jira_analysis_error.json', 'w') as f:
            json.dump(error_result, indent=2, fp=f)
```

## 2. Fix for test_summary not showing

In `_process_test_results()` method, change the test summary extraction:
```python
def _process_test_results(self, tests_data: List, test_execution_key: str) -> Dict:
    # ... existing code ...
    for test in tests_data:
        total_tests += 1
        status = test.get('status', '').upper()
        
        # Fix for test summary - try multiple possible fields
        test_summary = (test.get('summary') or 
                       test.get('testSummary') or 
                       test.get('name') or 
                       'No summary available')
        
        # ... rest of processing ...
        tests_details.append({
            'test_key': test.get('key', ''),
            'test_summary': test_summary,  # Use the extracted summary
            'status': status,
            'bug_ids': bug_ids
        })
```

## 3. Fix for bugs not showing

The issue is likely with the defects field. Try this enhanced bug extraction:
```python
def _process_test_results(self, tests_data: List, test_execution_key: str) -> Dict:
    # ... existing code ...
    for test in tests_data:
        # ... status counting ...
        
        # Enhanced bug extraction - try multiple possible fields
        bug_ids = []
        
        # Try Xray defects field
        defects = test.get('defects', [])
        if defects:
            for defect in defects:
                if isinstance(defect, dict) and defect.get('key'):
                    bug_ids.append(defect['key'])
                elif isinstance(defect, str):
                    bug_ids.append(defect)
        
        # Try Jira defects custom field
        if not bug_ids:
            defects_custom = test.get('customfield_10030', [])
            for defect in defects_custom:
                if isinstance(defect, dict) and defect.get('key'):
                    bug_ids.append(defect['key'])
        
        # Try generic defects field
        if not bug_ids:
            generic_defects = test.get('defectIds', [])
            bug_ids.extend([d for d in generic_defects if d])
        
        tests_details.append({
            'test_key': test.get('key', ''),
            'test_summary': test_summary,
            'status': status,
            'bug_ids': bug_ids
        })
```

These three fixes should resolve your issues with file output, missing summaries, and missing bug IDs.
